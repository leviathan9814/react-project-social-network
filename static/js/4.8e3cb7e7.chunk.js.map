{"version":3,"sources":["components/messages/messageItems/messageItems.js","components/messages/dialogItems/dialogItems.js","components/messages/messages.js","redux/selectors/dialogsSelectors.js","components/messages/messagesContainer.js"],"names":["MessageItems","props","className","src","userPhoto","to","id","name","DialogItems","text","AddMessageFormRedux","reduxForm","form","handleSubmit","onSubmit","Field","component","placeholder","Messages","state","dialogsPage","messagesElem","messagesData","map","item","dialogsElem","dialogsData","isAuth","values","dispatch","sendMessage","newMessageBody","reset","getDialogsPage","MessagesContainer","compose","connect","getIsAuth"],"mappings":"kOAkBeA,EAZM,SAACC,GAClB,OACI,qBAAKC,UAAU,OAAf,SACI,sBAAKA,UAAU,qBAAf,UACI,qBAAKC,IAAKC,IAAWF,UAAU,eAC/B,cAAC,IAAD,CAAMG,GAAI,aAAeJ,EAAMK,GAA/B,SAAoCL,EAAMM,OAC1C,qBAAKL,UAAU,uBCKhBM,G,OAZK,SAACP,GACjB,OACI,sBAAKC,UAAU,eAAf,UACI,gCACI,qBAAKC,IAAKC,IAAWF,UAAU,uBAC/B,6CAEJ,4BAAID,EAAMQ,Y,iCCiDhBC,G,mBAAsBC,YAAU,CAACC,KAAM,wBAAjBD,EAbL,SAAC,GAAoB,IAAnBE,EAAkB,EAAlBA,aAErB,OACI,uBAAMC,SAAUD,EAAcX,UAAU,cAAxC,UACI,cAACa,EAAA,EAAD,CAAOC,UAAU,WAAWT,KAAK,iBAAiBU,YAAY,qBAAqBf,UAAU,yBAE7F,8BACI,wBAAQA,UAAU,gCAAlB,2BAQDgB,EArDE,SAACjB,GAEd,IAAIkB,EAAQlB,EAAMmB,YAEdC,EAAeF,EAAMG,aAAaC,KAAI,SAAAC,GACtC,OAAO,cAAC,EAAD,CAAcjB,KAAMiB,EAAKjB,KAAoBD,GAAIkB,EAAKlB,IAAlBkB,EAAKlB,OAGhDmB,EAAcN,EAAMO,YAAYH,KAAI,SAAAC,GACpC,OAAO,cAAC,EAAD,CAAaf,KAAMe,EAAKf,MAAWe,EAAKlB,OAQnD,OAAKL,EAAM0B,OAGP,8BACI,sBAAKzB,UAAU,WAAf,UACI,qBAAKA,UAAU,iBAAf,SACKmB,IAEL,qBAAKnB,UAAU,iBACf,sBAAKA,UAAU,eAAf,UACKuB,EACD,8BACI,cAACf,EAAD,CAAqBI,SAjBnB,SAACc,EAAQC,GAC3B5B,EAAM6B,YAAYF,EAAOG,gBACzBF,EAASG,YAAM,sCAGO,cAAC,IAAD,CAAU3B,GAAG,Y,iCC3B9B4B,EAAiB,SAACd,GAC3B,OAAOA,EAAMC,aCcXc,EAAoBC,YACtBC,aARoB,SAACjB,GACrB,MAAO,CACHC,YAAaa,EAAed,GAC5BQ,OAAQU,YAAUlB,MAKG,CAACW,kBADJK,CAErBjB,GAEUgB","file":"static/js/4.8e3cb7e7.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport userPhoto from \"../../../assets/images/user.png\";\r\n\r\nimport \"./messageItems.css\";\r\n\r\nconst MessageItems = (props) => {\r\n    return (\r\n        <div className=\"item\">\r\n            <div className=\"user-message-block\">\r\n                <img src={userPhoto} className=\"user-photo\"/>\r\n                <Link to={\"/messages/\" + props.id}>{props.name}</Link>\r\n                <div className=\"line-message\"></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MessageItems;","import React from \"react\";\r\n\r\nimport \"./dialogItems.css\";\r\nimport userPhoto from \"../../../assets/images/user.png\";\r\n\r\nconst DialogItems = (props) => {\r\n    return (\r\n        <div className=\"dialog-items\">\r\n            <div>\r\n                <img src={userPhoto} className=\"user-photo-dialogs\"/>\r\n                <b>User Name</b>\r\n            </div>\r\n            <p>{props.text}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DialogItems;","import React from \"react\";\r\nimport MessageItems from \"./messageItems/messageItems\";\r\nimport DialogItems from \"./dialogItems/dialogItems\";\r\nimport { reduxForm, reset, Field} from \"redux-form\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {required} from \"../../validators/validators\";\r\nimport { Textarea, createNewField } from \"../formsControls/formsControls\";\r\n\r\nimport \"./messages.css\";\r\n\r\nconst Messages = (props) => {\r\n\r\n    let state = props.dialogsPage;\r\n    \r\n    let messagesElem = state.messagesData.map(item => {\r\n        return <MessageItems name={item.name} key={item.id} id={item.id}/>\r\n    });    \r\n\r\n    let dialogsElem = state.dialogsData.map(item => {\r\n        return <DialogItems text={item.text} key={item.id}/>\r\n    });\r\n\r\n    const addNewMessage = (values, dispatch) => {\r\n        props.sendMessage(values.newMessageBody);\r\n        dispatch(reset(\"dialogAddMessageForm\"));\r\n    }\r\n\r\n    if (!props.isAuth) return <Redirect to=\"/login\"/>\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"messages\">\r\n                <div className=\"messages-items\">\r\n                    {messagesElem}\r\n                </div>\r\n                <div className=\"line-dialogs\"></div>\r\n                <div className=\"dialog-items\">\r\n                    {dialogsElem}\r\n                    <div>\r\n                        <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nconst AddMessageForm = ({handleSubmit}) => {\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"add-message\">\r\n            <Field component=\"textarea\" name=\"newMessageBody\" placeholder=\"Enter your message\" className=\"add-message-textarea\"/>\r\n            {/* {createNewField(Textarea, \"newMessageBody\", [required], \"Enter your message\")} */}\r\n            <div>\r\n                <button className=\"btn btn-outline-dark btn-send\">Send</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm({form: \"dialogAddMessageForm\"})(AddMessageForm);\r\n\r\nexport default Messages;","export const getDialogsPage = (state) => {\r\n    return state.dialogsPage\r\n}","import React from \"react\";\r\nimport Messages from \"./messages\";\r\nimport {sendMessage} from \"../../redux/dialogsReducer\";\r\nimport { connect } from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {getIsAuth} from \"../../redux/selectors/authSelectors\";\r\nimport {getDialogsPage} from \"../../redux/selectors/dialogsSelectors\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: getDialogsPage(state),\r\n        isAuth: getIsAuth(state)\r\n    }\r\n}\r\n\r\nconst MessagesContainer = compose(\r\n    connect(mapStateToProps, {sendMessage}))\r\n    (Messages);\r\n\r\nexport default MessagesContainer;"],"sourceRoot":""}